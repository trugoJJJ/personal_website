@import url('https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&family=Geist+Mono:wght@100..900&family=Lexend:wght@100..900&family=Pixelify+Sans:wght@400..700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Marketing Manager Portfolio Design System 
Beautiful gradients, professional colors, smooth animations
All colors MUST be HSL.
*/

@layer base {
  /* Fix text selection color in dark mode */
  ::selection {
    background-color: hsl(210 40% 98% / 0.3);
    color: hsl(210 40% 98%);
  }
  
  .dark ::selection {
    background-color: hsl(210 40% 98% / 0.3);
    color: hsl(210 40% 98%);
  }

  /* Strong text in dark mode */
  .dark strong {
    color: hsl(210 40% 98%) !important;
  }

  /* Theme switching glitch animation */
  .theme-glitch {
    animation: themeGlitch 0.4s ease-in-out;
  }

  .theme-glitch * {
    animation: textGlitch 0.4s ease-in-out;
  }

  /* Mobile: stronger effects */
  @media (max-width: 767px) {
    .theme-glitch {
      animation: themeGlitchMobile 0.8s ease-in-out;
    }

    .theme-glitch * {
      animation: textGlitchMobile 0.8s ease-in-out;
    }
  }

  .theme-glitch::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
      rgba(255, 0, 0, 0.05) 0%, 
      rgba(0, 255, 0, 0.05) 33%, 
      rgba(0, 0, 255, 0.05) 66%, 
      rgba(255, 0, 0, 0.05) 100%);
    pointer-events: none;
    z-index: 9999;
    animation: scanline 0.8s ease-in-out;
  }

  .theme-glitch::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      radial-gradient(circle at 20% 20%, rgba(255, 0, 0, 0.02) 1px, transparent 1px),
      radial-gradient(circle at 80% 40%, rgba(0, 255, 0, 0.02) 1px, transparent 1px),
      radial-gradient(circle at 40% 80%, rgba(0, 0, 255, 0.02) 1px, transparent 1px);
    background-size: 60px 60px, 40px 40px, 50px 50px;
    background-position: 
      0 0, 20px 20px, 40px 40px;
    pointer-events: none;
    z-index: 9998;
    animation: pixelFractals 0.8s ease-in-out;
  }

  @keyframes themeGlitch {
    0% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
    10% {
      transform: translateX(-2px) scale(1.005);
      filter: hue-rotate(20deg) saturate(1.3) contrast(1.1);
    }
    20% {
      transform: translateX(2px) scale(0.995);
      filter: hue-rotate(-15deg) saturate(0.8) contrast(0.9);
    }
    30% {
      transform: translateX(-1px) scale(1.01);
      filter: hue-rotate(35deg) saturate(1.5) contrast(1.2);
    }
    40% {
      transform: translateX(1px) scale(0.99);
      filter: hue-rotate(-25deg) saturate(0.7) contrast(0.8);
    }
    50% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
    60% {
      transform: translateX(-1px) scale(1.002);
      filter: hue-rotate(15deg) saturate(1.2) contrast(1.05);
    }
    70% {
      transform: translateX(1px) scale(0.998);
      filter: hue-rotate(-10deg) saturate(0.9) contrast(0.95);
    }
    80% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
    100% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
  }

  /* Mobile: stronger effects */
  @keyframes themeGlitchMobile {
    0% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
    8% {
      transform: translateX(-3px) scale(1.01);
      filter: hue-rotate(45deg) saturate(2) contrast(1.3);
    }
    16% {
      transform: translateX(3px) scale(0.99);
      filter: hue-rotate(-30deg) saturate(0.6) contrast(0.8);
    }
    24% {
      transform: translateX(-2px) scale(1.015);
      filter: hue-rotate(60deg) saturate(2.5) contrast(1.5);
    }
    32% {
      transform: translateX(2px) scale(0.985);
      filter: hue-rotate(-45deg) saturate(0.5) contrast(0.7);
    }
    40% {
      transform: translateX(-1px) scale(1.02);
      filter: hue-rotate(75deg) saturate(3) contrast(1.8);
    }
    48% {
      transform: translateX(1px) scale(0.98);
      filter: hue-rotate(-60deg) saturate(0.4) contrast(0.6);
    }
    56% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
    64% {
      transform: translateX(-1px) scale(1.005);
      filter: hue-rotate(25deg) saturate(1.5) contrast(1.2);
    }
    72% {
      transform: translateX(1px) scale(0.995);
      filter: hue-rotate(-20deg) saturate(0.8) contrast(0.9);
    }
    80% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
    100% {
      transform: translateX(0) scale(1);
      filter: hue-rotate(0deg) saturate(1) contrast(1);
    }
  }

  @keyframes textGlitch {
    0% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    10% {
      text-shadow: 
        2px 0 0 rgba(255, 0, 0, 0.6),
        -2px 0 0 rgba(0, 255, 0, 0.6),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(-1px);
    }
    20% {
      text-shadow: 
        -2px 0 0 rgba(255, 0, 0, 0.6),
        2px 0 0 rgba(0, 255, 0, 0.6),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(1px);
    }
    30% {
      text-shadow: 
        1px 0 0 rgba(255, 0, 0, 0.7),
        -1px 0 0 rgba(0, 255, 0, 0.7),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(-0.5px);
    }
    40% {
      text-shadow: 
        -1px 0 0 rgba(255, 0, 0, 0.7),
        1px 0 0 rgba(0, 255, 0, 0.7),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0.5px);
    }
    50% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    60% {
      text-shadow: 
        1px 0 0 rgba(255, 0, 0, 0.4),
        -1px 0 0 rgba(0, 255, 0, 0.4),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    70% {
      text-shadow: 
        -1px 0 0 rgba(255, 0, 0, 0.4),
        1px 0 0 rgba(0, 255, 0, 0.4),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    80% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    100% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
  }

  /* Mobile: stronger text effects */
  @keyframes textGlitchMobile {
    0% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    8% {
      text-shadow: 
        3px 0 0 rgba(255, 0, 0, 0.8),
        -3px 0 0 rgba(0, 255, 0, 0.8),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(-2px);
    }
    16% {
      text-shadow: 
        -3px 0 0 rgba(255, 0, 0, 0.8),
        3px 0 0 rgba(0, 255, 0, 0.8),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(2px);
    }
    24% {
      text-shadow: 
        2px 0 0 rgba(255, 0, 0, 0.9),
        -2px 0 0 rgba(0, 255, 0, 0.9),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(-1px);
    }
    32% {
      text-shadow: 
        -2px 0 0 rgba(255, 0, 0, 0.9),
        2px 0 0 rgba(0, 255, 0, 0.9),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(1px);
    }
    40% {
      text-shadow: 
        1px 0 0 rgba(255, 0, 0, 1),
        -1px 0 0 rgba(0, 255, 0, 1),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(-0.5px);
    }
    48% {
      text-shadow: 
        -1px 0 0 rgba(255, 0, 0, 1),
        1px 0 0 rgba(0, 255, 0, 1),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0.5px);
    }
    56% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    64% {
      text-shadow: 
        2px 0 0 rgba(255, 0, 0, 0.6),
        -2px 0 0 rgba(0, 255, 0, 0.6),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    72% {
      text-shadow: 
        -2px 0 0 rgba(255, 0, 0, 0.6),
        2px 0 0 rgba(0, 255, 0, 0.6),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    80% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
    100% {
      text-shadow: 
        0 0 0 rgba(255, 0, 0, 0),
        0 0 0 rgba(0, 255, 0, 0),
        0 0 0 rgba(0, 0, 255, 0);
      transform: translateX(0);
    }
  }

  @keyframes scanline {
    0% {
      opacity: 0;
      transform: translateY(-100%);
    }
    20% {
      opacity: 0.3;
      transform: translateY(0%);
    }
    80% {
      opacity: 0.3;
      transform: translateY(100%);
    }
    100% {
      opacity: 0;
      transform: translateY(200%);
    }
  }

  @keyframes pixelFractals {
    0% {
      opacity: 0;
      transform: scale(0.95) rotate(0deg);
      background-position: 
        0 0, 20px 20px, 40px 40px;
    }
    20% {
      opacity: 0.2;
      transform: scale(1.05) rotate(2deg);
      background-position: 
        10px 10px, 30px 30px, 50px 50px;
    }
    40% {
      opacity: 0.4;
      transform: scale(0.98) rotate(-1deg);
      background-position: 
        -5px -5px, 15px 15px, 35px 35px;
    }
    60% {
      opacity: 0.3;
      transform: scale(1.02) rotate(1deg);
      background-position: 
        5px 5px, 25px 25px, 45px 45px;
    }
    80% {
      opacity: 0.1;
      transform: scale(0.99) rotate(-0.5deg);
      background-position: 
        0px 0px, 20px 20px, 40px 40px;
    }
    100% {
      opacity: 0;
      transform: scale(1) rotate(0deg);
      background-position: 
        0 0, 20px 20px, 40px 40px;
    }
  }

  :root {
    /* LIGHT PALETTE – Autumn: Burnt Sienna / Olive / Goldenrod / Dusty Beige */
    --background: 40 56% 96%;       /* #FAF6EE */
    --foreground: 26 36% 14%;       /* #2E2217 */

    --card: 40 56% 96%;
    --card-foreground: 26 36% 14%;

    --popover: 40 56% 96%;
    --popover-foreground: 26 36% 14%;

    --primary: 14 54% 49%;          /* Burnt Sienna #C25A3A */
    --primary-foreground: 40 56% 96%;
    --primary-light: 14 54% 57%;
    --primary-dark: 14 54% 35%;

    --secondary: 43 38% 33%;        /* Olive Brown #736134 */
    --secondary-foreground: 40 56% 96%;
    --secondary-light: 43 38% 40%;
    --secondary-dark: 43 38% 22%;

    --accent: 40 67% 54%;           /* Goldenrod #D8A23A */
    --accent-foreground: 26 36% 14%;
    --accent-light: 40 67% 63%;
    --accent-dark: 40 67% 40%;

    --muted: 34 27% 77%;            /* Dusty Beige #D4C6B4 */
    --muted-foreground: 34 27% 30%;

    --border: 34 27% 65%;
    --input: 34 27% 65%;
    --ring: 14 54% 49%;

    /* FIX gradients: map to their own color scales instead of all using --primary */
    --gradient-primary: linear-gradient(180deg, hsl(var(--primary-light)), hsl(var(--primary-dark)));
    --gradient-secondary: linear-gradient(180deg, hsl(var(--secondary-light)), hsl(var(--secondary-dark)));
    --gradient-accent: linear-gradient(180deg, hsl(var(--accent-light)), hsl(var(--accent-dark)));
    --gradient-hero: linear-gradient(180deg, hsl(var(--primary-light)), hsl(var(--primary-dark)));
    --gradient-card: linear-gradient(180deg, hsl(var(--card)), hsl(var(--card)));

    /* Shadows */
    --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-card-hover: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-hero: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --shadow-glow: 0 0 40px hsl(var(--primary) / 0.3);

    /* Destructive */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 217.2 91.2% 59.8%;
    --sidebar-primary-foreground: 222.2 47.4% 11.2%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 217.2 32.6% 17.5%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: 'Figtree','Lexend',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica Neue',Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji';
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: 1rem; /* base */
    line-height: 1.5;
  }
  @media (min-width: 768px) {
    body { font-size: 1.125rem; }
  }

  html {
    scroll-behavior: smooth;
  }

  h1 {
    font-family: 'Lexend','Figtree',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica Neue',Arial,sans-serif;
    font-weight: 700;
    letter-spacing: -0.02em;
    font-size: 3rem; /* 5xl */
    line-height: 1.05;
  }
  @media (min-width: 768px) {
    h1 { font-size: 4.5rem; /* 7xl */ }
  }

  h2 {
    font-family: 'Lexend','Figtree',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica Neue',Arial,sans-serif;
    font-weight: 600;
    letter-spacing: -0.02em;
    font-size: 2.25rem; /* 4xl */
    line-height: 1.25; /* leading-tight */
  }
  @media (min-width: 768px) {
    h2 { font-size: 3rem; /* 5xl */ }
  }

  h3 {
    font-family: 'Lexend','Figtree',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica Neue',Arial,sans-serif;
    font-weight: 600;
    font-size: 1.5rem; /* 2xl */
    line-height: 1.375; /* leading-snug */
  }
  @media (min-width: 768px) {
    h3 { font-size: 1.875rem; /* 3xl */ }
  }

  p.lead {
    font-size: 1.125rem; line-height: 1.75rem;
    color: hsl(var(--muted-foreground));
  }
  @media (min-width: 768px) {
    p.lead { font-size: 1.25rem; }
  }
}

@layer components {
  /* Custom animations */
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-animation 6s ease-in-out infinite;
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite alternate;
  }

  /* Gradient backgrounds */
  .bg-gradient-hero {
    background: var(--gradient-hero);
  }

  .bg-gradient-primary {
    background: var(--gradient-primary);
  }

  .bg-gradient-secondary {
    background: var(--gradient-secondary);
  }

  .bg-gradient-accent {
    background: var(--gradient-accent);
  }

  .bg-gradient-card {
    background: var(--gradient-card);
  }

  /* Card shadows */
  .shadow-card {
    box-shadow: var(--shadow-card);
  }

  .shadow-card-hover {
    box-shadow: var(--shadow-card-hover);
  }

  .shadow-hero {
    box-shadow: var(--shadow-hero);
  }

  .shadow-glow {
    box-shadow: var(--shadow-glow);
  }

  /* Interactive elements */
  .hover-scale {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .hover-scale:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--shadow-card-hover);
  }

  /* Text gradients */
  .text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-accent {
    background: var(--gradient-accent);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* === Seasonal Spring Background (day / night) === */
  .spring-bg { position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 5; }
  .spring-petal { position: absolute; top: -10%; border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; opacity: .55; animation: petal-fall linear infinite; transform: rotate(0deg); mix-blend-mode: multiply; }
  .dark .spring-petal { opacity: .35; mix-blend-mode: screen; }
  .spring-cloud { position: absolute; width: 360px; height: 140px; background: radial-gradient(circle at 30% 40%, hsl(0 0% 100%) 0%, hsl(0 0% 100%) 60%, hsl(0 0% 100% / 0) 70%); filter: blur(12px) saturate(80%); animation: cloud-drift linear infinite; }
  .spring-firefly { position: absolute; border-radius: 50%; background: radial-gradient(circle at 30% 30%, hsl(45 100% 83%), hsl(43 100% 67%) 55%, hsl(40 100% 50% / 0.05) 70%); box-shadow: 0 0 6px 2px hsl(36 100% 74% / 0.5), 0 0 18px 6px hsl(33 100% 68% / 0.25); animation: firefly-float linear infinite, firefly-glow ease-in-out infinite; }
  .spring-moon { position: absolute; top: 6%; right: 8%; width: 140px; height: 140px; border-radius: 50%; background: radial-gradient(circle at 35% 35%, hsl(35 100% 89%) 0%, hsl(36 85% 82%) 45%, hsl(35 73% 66%) 75%, hsl(33 65% 57%) 100%); box-shadow: 0 0 18px 6px hsl(31 100% 83% / 0.35), 0 0 60px 18px hsl(30 100% 74% / 0.15); animation: moon-glow 12s ease-in-out infinite; }
  .spring-star { position:absolute; background: radial-gradient(circle at 35% 35%, hsl(0 0% 100%) 0%, hsl(0 0% 100%) 55%, hsl(0 0% 100% / 0) 70%); border-radius:50%; opacity:.6; animation: star-twinkle ease-in-out infinite; }
  .spring-sun { position:absolute; top:6%; left:7%; width:160px; height:160px; border-radius:50%; background: radial-gradient(circle at 35% 35%, hsl(50 100% 91%) 0%, hsl(45 100% 79%) 45%, hsl(41 100% 64%) 75%, hsl(36 93% 57%) 100%); box-shadow:0 0 35px 10px hsl(36 100% 74% / .35),0 0 90px 30px hsl(33 100% 68% / .25); animation: sun-glow 14s ease-in-out infinite; }

  /* Canonical leaf */
  .spring-leaf {
    position:absolute; top:-8%;
    border-radius:40% 60% 55% 45% / 55% 45% 60% 40%;
    pointer-events:auto; z-index:9; will-change:transform, opacity;
    /* Simplified color custom properties for broader parser support */
    --leaf-color-center: 40 67% 54%;
    --leaf-color-edge: 40 67% 40%;
    background: radial-gradient(circle at 30% 30%,
      hsl(var(--leaf-color-center)) 0%,
      hsl(var(--leaf-color-edge)) 70%,
      hsl(var(--leaf-color-edge) / 0) 80%
    );
    box-shadow: 0 2px 4px 0 hsl(0 0% 0% / 0.15), inset 0 1px 2px hsl(0 0% 100% / 0.35);
    animation: leaf-fall var(--fallDur,14s) linear forwards;
    animation-fill-mode:forwards;
    filter: drop-shadow(0 2px 2px hsl(0 0% 0% / 0.15));
  }
  .dark .spring-leaf { opacity:.85; }
  .spring-leaf::after { content:""; position:absolute; top:40%; left:50%; width:2px; height:55%; background:linear-gradient(to bottom, hsl(27 47% 23% / .8), hsl(27 40% 15% / .2)); transform:translateX(-50%) rotate(var(--stemRot,6deg)); border-radius:2px; }
  /* Departure / interaction variants */
  .spring-leaf.departing { animation:none !important; transition:transform 1.4s cubic-bezier(.22,.61,.36,1), opacity 1.4s ease; transform:translate3d(var(--offX,0), var(--offY,-40vh),0) rotate(var(--rotEnd,720deg)) scale(1.05); opacity:0; }
  .spring-leaf.drift-off { animation: leaf-fly-away 1.4s cubic-bezier(.22,.61,.36,1) forwards !important; filter: drop-shadow(0 4px 6px hsl(0 0% 0% / 0.25)); }
  .spring-leaf.drift-off.leaving { opacity:0; }
  /* Utilities */
  .spring-leaf.no-shadow, .spring-leaf.no-shadow::after, .spring-leaf.no-shadow.departing, .spring-leaf.no-shadow.drift-off { box-shadow:none !important; filter:none !important; }
  .spring-leaf.no-tail::after { content:none !important; }
}

@layer utilities {
  /* Keyframes */
  @keyframes gradient-animation {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  @keyframes pulse-glow {
    from {
      box-shadow: 0 0 20px hsl(var(--primary) / 0.4);
    }
    to {
      box-shadow: 0 0 40px hsl(var(--primary) / 0.8);
    }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes petal-fall {
    0% {
      transform: translate3d(0,0,0) rotate(0deg);
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    95% {
      opacity: 1;
    }
    100% {
      transform: translate3d(calc(30px - 60px * var(--drift, 0.5)), 115vh, 720deg) rotate(360deg);
      opacity: 0;
    }
  }

  @keyframes cloud-drift {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(25vw);
    }
  }

  @keyframes firefly-float {
    0% {
      transform: translate3d(0,0,0) scale(1);
    }
    50% {
      transform: translate3d(30px,-40px,0) scale(1.3);
    }
    100% {
      transform: translate3d(-10px,10px,0) scale(1);
    }
  }

  @keyframes firefly-glow {
    0%, 100% {
      filter: brightness(1) saturate(1);
      opacity: .85;
    }
    50% {
      filter: brightness(1.6) saturate(1.4);
      opacity: 1;
    }
  }

  @keyframes moon-glow {
    0%, 100% {
      box-shadow: 0 0 18px 6px hsl(31 100% 83% / 0.35), 0 0 60px 18px hsl(30 100% 74% / 0.15);
    }
    50% {
      box-shadow: 0 0 26px 10px hsl(31 100% 83% / 0.55), 0 0 80px 26px hsl(30 100% 74% / 0.25);
    }
  }

  @keyframes leaf-fly-away {
    0% {
      transform: translate3d(var(--offX,0), var(--offY,-40vh), 0) rotate(var(--rotStart,0deg)) scale(1);
      opacity: 1;
    }
    60% {
      opacity: 1;
    }
    100% {
      transform: translate3d(calc(var(--offX,0) + 10vw), calc(var(--offY,-40vh) - 60vh), 0) rotate(var(--rotEnd,720deg)) scale(1.05);
      opacity: 0;
    }
  }

  @keyframes leaf-fall {
    0% {
      transform: translate3d(0,0,0) rotate(var(--rotStart));
      opacity: 0;
    }
    5% {
      opacity: .9;
    }
    60% {
      opacity: .9;
    }
    100% {
      transform: translate3d(var(--sway),110vh,0) rotate(var(--rotEnd));
      opacity: 0;
    }
  }

  @keyframes leaf-wind {
    0% {
      transform: translate3d(0,0,0) rotate(var(--rotStart));
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    25% {
      transform: translate3d(var(--x1),20vh,0) rotate(calc(var(--rotStart) + 90deg));
    }
    45% {
      transform: translate3d(var(--x2),40vh,0) rotate(calc(var(--rotStart) + 180deg));
    }
    70% {
      transform: translate3d(var(--x3),70vh,0) rotate(calc(var(--rotStart) + 450deg));
    }
    100% {
      transform: translate3d(var(--x4),110vh,0) rotate(var(--rotEnd));
      opacity: 0;
    }
  }

  @keyframes leaf-fall-wide {
    0% { transform: translate3d(var(--xStart, 0vw), -8vh, 0) rotate(var(--rotStart,0deg)); opacity:1; }
    20% { transform: translate3d(var(--x1, 10vw), 20vh, 0) rotate(calc(var(--rotStart,0deg) + 140deg)); opacity:1; }
    40% { transform: translate3d(var(--x2, -15vw), 42vh, 0) rotate(calc(var(--rotStart,0deg) + 290deg)); opacity:1; }
    60% { transform: translate3d(var(--x3, 25vw), 64vh, 0) rotate(calc(var(--rotStart,0deg) + 430deg)); opacity:1; }
    80% { transform: translate3d(var(--x4, -30vw), 86vh, 0) rotate(calc(var(--rotStart,0deg) + 570deg)); opacity:1; }
    100% { transform: translate3d(var(--xEnd, 0vw), 112vh, 0) rotate(var(--rotEnd,720deg)); opacity:1; }
  }

  @keyframes star-twinkle {
    0%, 100% {
      opacity: .15;
      transform: scale(1);
    }
    50% {
      opacity: .9;
      transform: scale(1.35);
    }
  }

  @keyframes sun-glow {
    0%, 100% {
      box-shadow: 0 0 35px 10px hsl(36 100% 74% / .35), 0 0 90px 30px hsl(33 100% 68% / .25);
    }
    50% {
      box-shadow: 0 0 50px 16px hsl(36 100% 74% / 0.55), 0 0 120px 40px hsl(33 100% 68% / 0.35);
    }
  }

  @keyframes leaf-float {
    0%,100% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-6px) rotate(2deg); }
    50% { transform: translateY(2px) rotate(-2deg); }
    75% { transform: translateY(-4px) rotate(1deg); }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out;
  }
}

/* Added reduced-motion safety */
@media (prefers-reduced-motion: reduce) {
  .animate-gradient, .animate-float, .animate-pulse-glow, .spring-leaf, .spring-petal, .spring-cloud, .spring-firefly, .spring-moon, .spring-sun { animation: none !important; transition: none !important; }
}

.cta-grid-container {
  /* Mobile: jeden pod drugim */
  display: flex;
  flex-direction: column;
  gap: 2.5rem;
}

/* Desktop: obok siebie */
@media (min-width: 768px) {
  .cta-grid-container {
    flex-direction: row;
    gap: 2rem;
    align-items: stretch;
  }
}

/* Wrapper BigTypeCTA (pierwszy element) */
.cta-grid-container > *:first-child {
  flex: 3; /* Zajmie 3/5 dostępnego miejsca */
}

/* Wrapper SimpleCTA (drugi element) */
.cta-grid-container > *:last-child {
  flex: 2; /* Zajmie 2/5 dostępnego miejsca */
}